# 👁️ UI-Eye 视觉走查机器人 - 使用指南

欢迎使用 UI-Eye！本项目提供三种核心能力：**单页对比**、**批量任务流水线** 以及 **浏览器插件实时走查**。

---

## 1. 快速启动 (Quick Start)

项目采用前后端分离架构，请确保相关端口未被占用。

### 后端服务 (Server)
```bash
cd server
npm install    # 首次启动需安装依赖
npm run server # 启动在 http://localhost:3000
```
*   **API 密钥配置**：请在 `server/.env` 中正确填写 `SILICONFLOW_API_KEY` 以激活 AI 诊断能力。

### 前端控制台 (Web)
```bash
cd web
npm install
npm run dev    # 访问地址：http://localhost:5173
```

---

## 2. 核心工作流

### 方案 A：批量自动化走查 (适用于公网/活动页)
1.  进入 **“批量任务”** 页面。
2.  点击 **“创建新任务”**，输入任务名称、目标域名及需要走查的 URL 列表。
3.  点击 **“启动”**。你可以在监控面板看到“截图 -> 对比 -> AI 分析”的实时进度。
4.  任务完成后，点击 **“查看详情”** 即可获取包含 CSS 修复建议的完整报告。

### 方案 B：浏览器插件实时走查 (适用于内网/登录后页面)
这是本项目最强大的进阶能力：

1.  **安装插件**：
    -   打开 Chrome `扩展程序` 管理页面 (`chrome://extensions/`)。
    -   开启右上角 **“开发者模式”**。
    -   点击 **“加载解压的扩展程序”**，选择项目中的 `extension` 目录。
2.  **开始走查**：
    -   登录并访问你的目标业务系统。
    -   **方式一（精准捕获）**：在想要走查的组件上，按下快捷键 **`S`**。你会看到蓝色高亮框消失并提示捕获成功。
    -   **方式二（一键全屏）**：点击插件图标，直接点击面板右上角的 **“📸 一键截屏”**。它会直接抓取当前的可视区域。
3.  **上传对比**：
    -   面板会自动加载截取的“实测图”。
    -   拖拽或上传你的“设计稿切图”。
    -   点击 **“获取 AI 诊断建议”**。AI 将根据截图与采集到的真实 CSS 样式给出修复代码。

---

## 3. 技术保障与优势
-   **SSO 登录态绕过**：通过插件方案，完美解决 Playwright 等脚本无法通过复杂鉴权的难题。
-   **高精度裁剪**：内置 Canvas 裁剪算法，自动适配 DevicePixelRatio，确保截图无模糊、无偏移。
-   **AI 专家 Prompt**：集成资深前端专家提示词，拒绝“猜颜色”，直接输出生产级 CSS。

---

## 4. 常见问题 (FAQ)
-   **Q: 插件为什么提示连接后端失败？**  
    A: 请确保后台 `npm run server` 正在运行，且端口为 3000。
-   **Q: AI 返回的结果不理想？**  
    A: 尽量确保设计稿切图与实测图的比例大致接近，这能显著提升 Vision 模型的判断准确度。
